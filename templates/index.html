<!DOCTYPE html>
<html>
<head>
    <title>Text-to-Speech Conversion</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Text-to-Speech Conversion</h1>
    <form action="/submit" method="post">
        <div class="option">
            <input type="radio" id="urlOption" name="inputOption" value="url">
            <label for="urlOption">Convert URL</label>
        </div>
        <div class="option">
            <input type="radio" id="textOption" name="inputOption" value="text">
            <label for="textOption">Convert Text</label>
        </div>

        <div id="urlInputSection">
            <label for="urlInput">Enter URL:</label>
            <input type="url" id="urlInput" name="urlInput">
        </div>

        <div id="displayOptionSection" style="display: none;">
            <div>
                <input type="radio" id="mainContentOption" name="displayOption" value="main" style="margin-right: 5px;">
                <label for="mainContentOption">Main Content Only</label>
            </div>
            <div>
                <input type="radio" id="entirePageOption" name="displayOption" value="full" style="margin-right: 5px;">
                <label for="entirePageOption">Entire Page</label>
            </div>
        </div>

        <div id="textInputSection">
            <label for="textInput">Enter Text:</label>
            <textarea id="textInput" name="textInput" rows="4" cols="50"></textarea>
        </div>
        
        <button type="submit">Submit</button>
    </form>

    <iframe id="webpage-frame" src="" frameborder="0" width="100%" height="600" style="display: none;"></iframe>

    <script>
        const urlOption = document.getElementById("urlOption");
        const textOption = document.getElementById("textOption");
        const urlInputSection = document.getElementById("urlInputSection");
        const displayOptionSection = document.getElementById("displayOptionSection");
        const textInputSection = document.getElementById("textInputSection");
        const webpageContentSelector = document.getElementById("webpage-frame");

        urlOption.addEventListener("click", () => {
            urlInputSection.style.display = "block";
            displayOptionSection.style.display = "block"; // Show the display option for URL
            textInputSection.style.display = "none";
        });

        textOption.addEventListener("click", () => {
            urlInputSection.style.display = "none";
            displayOptionSection.style.display = "none"; // Hide the display option for URL
            textInputSection.style.display = "block";
            webpageContentSelector.style.display = "none";
        });

        function loadWebpage() {
            const urlInput = document.getElementById("urlInput").value;

            setIframeSource(urlInput);
            webpageContentSelector.style.display = "block";
        }

        function setIframeSource(url) {
            var iframe = document.getElementById("webpage-frame");
            iframe.src = url;
        }
    </script>
</body>
</html>
